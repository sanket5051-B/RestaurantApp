{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nimport _imports_0 from '../assets/restaurant-service.jpg';\nconst _hoisted_1 = {\n  class: \"background-container\"\n};\nconst _hoisted_2 = {\n  class: \"container\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"my-4 text-danger\"\n}, \"Add New Restaurant\", -1 /* HOISTED */);\nconst _hoisted_4 = {\n  class: \"row\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-md-6\"\n}, [/*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  alt: \"Restaurant Image\",\n  class: \"img-fluid\"\n})], -1 /* HOISTED */);\nconst _hoisted_6 = {\n  class: \"col-md-6\"\n};\nconst _hoisted_7 = {\n  class: \"add\"\n};\nconst _hoisted_8 = {\n  class: \"mb-3\"\n};\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"name\",\n  class: \"form-label\"\n}, \"Restaurant Name\", -1 /* HOISTED */);\nconst _hoisted_10 = {\n  class: \"mb-3\"\n};\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"address\",\n  class: \"form-label\"\n}, \"Contact Address\", -1 /* HOISTED */);\nconst _hoisted_12 = {\n  class: \"mb-3\"\n};\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"contact\",\n  class: \"form-label\"\n}, \"Contact\", -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Header = _resolveComponent(\"Header\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_Header), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_createCommentVNode(\" Left column for the image \"), _hoisted_5, _createCommentVNode(\" Right column for the form \"), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"form\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_hoisted_9, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"name\",\n    placeholder: \"Enter the Name\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.restaurant.name = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.restaurant.name]])]), _createElementVNode(\"div\", _hoisted_10, [_hoisted_11, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"address\",\n    placeholder: \"Enter the address\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.restaurant.address = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.restaurant.address]])]), _createElementVNode(\"div\", _hoisted_12, [_hoisted_13, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"contact\",\n    placeholder: \"Enter the contact\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.restaurant.contact = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.restaurant.contact]])]), _createElementVNode(\"button\", {\n    type: \"button\",\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.addRestaurant && $options.addRestaurant(...args)),\n    style: {\n      \"width\": \"115px\"\n    },\n    class: \"btn btn-dark\"\n  }, \"Add New Restaurant\")])])])])]), _createTextVNode(\"div> \")], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_imports_0","class","_createElementVNode","src","alt","for","_createElementBlock","_Fragment","_createVNode","_component_Header","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_createCommentVNode","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","type","id","placeholder","_cache","$event","$data","restaurant","name","required","_hoisted_10","_hoisted_11","address","_hoisted_12","_hoisted_13","contact","onClick","args","$options","addRestaurant","style","_createTextVNode"],"sources":["C:\\vuejs_projects\\resto-project\\src\\components\\Add.vue"],"sourcesContent":["<template>\r\n  <Header />\r\n  <div class=\"background-container\">\r\n  <div class=\"container\">\r\n    <h1 class=\"my-4 text-danger\">Add New Restaurant</h1>\r\n    <div class=\"row\">\r\n      <!-- Left column for the image -->\r\n      <div class=\"col-md-6\">\r\n        <img src=\"../assets/restaurant-service.jpg\" alt=\"Restaurant Image\" class=\"img-fluid\" />\r\n      </div>\r\n      <!-- Right column for the form -->\r\n      <div class=\"col-md-6\">\r\n        <form class=\"add\">\r\n          <div class=\"mb-3\">\r\n            <label for=\"name\" class=\"form-label\">Restaurant Name</label>\r\n            <input type=\"text\" id=\"name\" placeholder=\"Enter the Name\" v-model=\"restaurant.name\" required />\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label for=\"address\" class=\"form-label\">Contact Address</label>\r\n            <input type=\"text\" id=\"address\" placeholder=\"Enter the address\" v-model=\"restaurant.address\" required />\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label for=\"contact\" class=\"form-label\">Contact</label>\r\n            <input type=\"text\" id=\"contact\" placeholder=\"Enter the contact\" v-model=\"restaurant.contact\" required />\r\n          </div>\r\n          <button type=\"button\" @click=\"addRestaurant\" style=\"width: 115px\" class=\"btn btn-dark\">Add New Restaurant</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  </div>div>\r\n</template>\r\n\r\n<script>\r\nimport Header from './Header.vue'\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'AddPage',\r\n  components: {\r\n    Header\r\n  },\r\n  data() {\r\n    return {\r\n      restaurant: {\r\n        name: '',\r\n        address: '',\r\n        contact: ''\r\n      },\r\n      userId: ''  // Store user ID here\r\n    };\r\n  },\r\n  methods: {\r\n    async addRestaurant() {\r\n      try {\r\n        const user = JSON.parse(localStorage.getItem('user-info'));\r\n        if (!user) {\r\n          this.$router.push({ name: \"SignUp\" });\r\n          return;\r\n        }\r\n        this.userId = user.id; // Set the user ID\r\n\r\n        const response = await axios.post(\"http://localhost:3000/restsurant\", {\r\n          name: this.restaurant.name,\r\n          address: this.restaurant.address,\r\n          contact: this.restaurant.contact,\r\n          userId: this.userId // Include user ID in the request\r\n        });\r\n\r\n        if (response.status === 201) {\r\n          this.$router.push({ name: 'HomePage' });\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to add restaurant:', error);\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    const user = localStorage.getItem('user-info');\r\n    if (!user) {\r\n      this.$router.push({ name: \"SignUp\" });\r\n    } else {\r\n      const userInfo = JSON.parse(user);\r\n      this.username = userInfo.username; // Assuming user-info is JSON format\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.container {\r\n  background-color: rgba(255, 255, 255, 0.9);\r\n  max-width: 1000px; /* Adjust the max-width as needed */\r\n  margin-top: 20px;\r\n  padding: 20px; /* Add some padding inside the container */\r\n  border: 1px solid #ddd; /* Light gray border */\r\n  border-radius: 8px; /* Rounded corners */\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Optional: Add shadow for depth */\r\n}\r\n\r\n.img-fluid {\r\n  max-width: 100%;\r\n  height: auto;\r\n}\r\n.background-container\r\n{\r\nbackground: url('../assets/kitchen.jpg') no-repeat center center fixed;\r\n  background-size: cover;\r\n  min-height: 100vh;\r\n  padding: 20px;\r\n}\r\n\r\n.form-label {\r\n  display: block; /* Ensure labels take up full width */\r\n  margin-bottom: 0.5rem; /* Adjust spacing below the label */\r\n  text-align: left; /* Align text to the left */\r\n}\r\n\r\n.form-control {\r\n  width: 100%; /* Ensure input fields take up full width */\r\n}\r\n</style>\r\n"],"mappings":";OAQaA,UAAsC;;EAN5CC,KAAK,EAAC;AAAsB;;EAC5BA,KAAK,EAAC;AAAW;gCACpBC,mBAAA,CAAoD;EAAhDD,KAAK,EAAC;AAAkB,GAAC,oBAAkB;;EAC1CA,KAAK,EAAC;AAAK;gCAEdC,mBAAA,CAEM;EAFDD,KAAK,EAAC;AAAU,I,aACnBC,mBAAA,CAAuF;EAAlFC,GAAsC,EAAtCH,UAAsC;EAACI,GAAG,EAAC,kBAAkB;EAACH,KAAK,EAAC;;;EAGtEA,KAAK,EAAC;AAAU;;EACbA,KAAK,EAAC;AAAK;;EACVA,KAAK,EAAC;AAAM;gCACfC,mBAAA,CAA4D;EAArDG,GAAG,EAAC,MAAM;EAACJ,KAAK,EAAC;GAAa,iBAAe;;EAGjDA,KAAK,EAAC;AAAM;iCACfC,mBAAA,CAA+D;EAAxDG,GAAG,EAAC,SAAS;EAACJ,KAAK,EAAC;GAAa,iBAAe;;EAGpDA,KAAK,EAAC;AAAM;iCACfC,mBAAA,CAAuD;EAAhDG,GAAG,EAAC,SAAS;EAACJ,KAAK,EAAC;GAAa,SAAO;;;uBAtB3DK,mBAAA,CAAAC,SAAA,SACEC,YAAA,CAAUC,iBAAA,GACVP,mBAAA,CA4BM,OA5BNQ,UA4BM,GA3BNR,mBAAA,CA0BM,OA1BNS,UA0BM,GAzBJC,UAAoD,EACpDV,mBAAA,CAuBM,OAvBNW,UAuBM,GAtBJC,mBAAA,+BAAkC,EAClCC,UAEM,EACND,mBAAA,+BAAkC,EAClCZ,mBAAA,CAgBM,OAhBNc,UAgBM,GAfJd,mBAAA,CAcO,QAdPe,UAcO,GAbLf,mBAAA,CAGM,OAHNgB,UAGM,GAFJC,UAA4D,E,gBAC5DjB,mBAAA,CAA+F;IAAxFkB,IAAI,EAAC,MAAM;IAACC,EAAE,EAAC,MAAM;IAACC,WAAW,EAAC,gBAAgB;IAfrE,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAe+EC,KAAA,CAAAC,UAAU,CAACC,IAAI,GAAAH,MAAA;IAAEI,QAAQ,EAAR;iDAAjBH,KAAA,CAAAC,UAAU,CAACC,IAAI,E,KAEpFzB,mBAAA,CAGM,OAHN2B,WAGM,GAFJC,WAA+D,E,gBAC/D5B,mBAAA,CAAwG;IAAjGkB,IAAI,EAAC,MAAM;IAACC,EAAE,EAAC,SAAS;IAACC,WAAW,EAAC,mBAAmB;IAnB3E,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAmBqFC,KAAA,CAAAC,UAAU,CAACK,OAAO,GAAAP,MAAA;IAAEI,QAAQ,EAAR;iDAApBH,KAAA,CAAAC,UAAU,CAACK,OAAO,E,KAE7F7B,mBAAA,CAGM,OAHN8B,WAGM,GAFJC,WAAuD,E,gBACvD/B,mBAAA,CAAwG;IAAjGkB,IAAI,EAAC,MAAM;IAACC,EAAE,EAAC,SAAS;IAACC,WAAW,EAAC,mBAAmB;IAvB3E,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAuBqFC,KAAA,CAAAC,UAAU,CAACQ,OAAO,GAAAV,MAAA;IAAEI,QAAQ,EAAR;iDAApBH,KAAA,CAAAC,UAAU,CAACQ,OAAO,E,KAE7FhC,mBAAA,CAAkH;IAA1GkB,IAAI,EAAC,QAAQ;IAAEe,OAAK,EAAAZ,MAAA,QAAAA,MAAA,UAAAa,IAAA,KAAEC,QAAA,CAAAC,aAAA,IAAAD,QAAA,CAAAC,aAAA,IAAAF,IAAA,CAAa;IAAEG,KAAoB,EAApB;MAAA;IAAA,CAAoB;IAACtC,KAAK,EAAC;KAAe,oBAAkB,E,WAzBnHuC,gBAAA,CA8BQ,OACR,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}