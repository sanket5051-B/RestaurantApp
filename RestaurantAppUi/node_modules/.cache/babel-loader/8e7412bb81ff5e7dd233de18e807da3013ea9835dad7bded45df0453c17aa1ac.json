{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Header from './Header.vue';\nimport axios from 'axios';\nexport default {\n  name: 'HomePage',\n  components: {\n    Header\n  },\n  data() {\n    return {\n      name: '',\n      userId: '',\n      restaurants: [],\n      filteredRestaurants: []\n    };\n  },\n  async mounted() {\n    let user = localStorage.getItem('user-info');\n    if (!user) {\n      this.$router.push({\n        name: \"SignUp\"\n      });\n      return;\n    }\n    const userInfo = JSON.parse(user);\n    this.name = userInfo.name;\n    this.userId = userInfo.id;\n    try {\n      let result = await axios.get(\"http://localhost:5165/api/Home\");\n      this.restaurants = result.data;\n      this.filteredRestaurants = result.data;\n      console.log(\"result.data\", result.data);\n      console.log(\"this.filteredRestaurants\", result.data);\n      this.filterRestaurants();\n    } catch (error) {\n      console.error('Failed to load restaurants:', error);\n    }\n  },\n  methods: {\n    filterRestaurants() {\n      this.filteredRestaurants = this.restaurants.filter(r => r.userId === this.userId);\n    },\n    navigateToUpdate(id) {\n      this.$router.push({\n        name: 'UpdatePage',\n        params: {\n          id\n        }\n      });\n    },\n    confirmDelete(id) {\n      if (confirm('Are you sure you want to delete this item?')) {\n        this.deleteRestaurant(id);\n      }\n    },\n    async deleteRestaurant(id) {\n      try {\n        await axios.delete(`http://localhost:5165/api/Home/${id}`);\n        this.restaurants = this.restaurants.filter(item => item.id !== id);\n        this.filterRestaurants();\n      } catch (error) {\n        console.error('Failed to delete restaurant:', error);\n      }\n    },\n    logout() {\n      localStorage.removeItem('user-info');\n      this.$router.push({\n        name: \"SignUp\"\n      });\n    }\n  }\n};","map":{"version":3,"names":["Header","axios","name","components","data","userId","restaurants","filteredRestaurants","mounted","user","localStorage","getItem","$router","push","userInfo","JSON","parse","id","result","get","console","log","filterRestaurants","error","methods","filter","r","navigateToUpdate","params","confirmDelete","confirm","deleteRestaurant","delete","item","logout","removeItem"],"sources":["C:\\vuejs_projects\\resto-project\\src\\components\\Home.vue"],"sourcesContent":["<template>\r\n  <Header />\r\n  <div class=\"background-container\">\r\n    <div class=\"content-container\">\r\n      <h3 style=\"margin-top: 20px\"> {{ name }}  Here's Your List of Restaurants</h3>\r\n      <div class=\"table-container\">\r\n        <table class=\"table table-striped table-hover table-bordered\">\r\n          <thead>\r\n            <tr>\r\n              <th>Name</th>\r\n              <th>Contact</th>\r\n              <th>Address</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"item in filteredRestaurants\" :key=\"item.id\">\r\n              <td>{{ item.name }}</td>\r\n              <td>{{ item.contact }}</td>\r\n              <td>{{ item.address }}</td>\r\n              <td>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <button @click=\"navigateToUpdate(item.id)\" class=\"btn btn-warning\">Update</button>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <button @click=\"confirmDelete(item.id)\" class=\"btn btn-danger\">Delete</button>\r\n                  </div>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Header from './Header.vue';\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'HomePage',\r\n  components: {\r\n    Header\r\n  },\r\n  data() {\r\n    return {\r\n      name: '',\r\n      userId: '',\r\n      restaurants: [],\r\n      filteredRestaurants: []\r\n    };\r\n  },\r\n  async mounted() {\r\n    let user = localStorage.getItem('user-info');\r\n    if (!user) {\r\n      this.$router.push({ name: \"SignUp\" });\r\n      return;\r\n    }\r\n    const userInfo = JSON.parse(user);\r\n    this.name = userInfo.name;\r\n    this.userId = userInfo.id;\r\n\r\n    try {\r\n      let result = await axios.get(\"http://localhost:5165/api/Home\");\r\n      this.restaurants = result.data;\r\n      this.filteredRestaurants = result.data;\r\n      console.log(\"result.data\",result.data);\r\n      console.log(\"this.filteredRestaurants\",result.data)\r\n      this.filterRestaurants();\r\n    } catch (error) {\r\n      console.error('Failed to load restaurants:', error);\r\n    }\r\n  },\r\n  methods: {\r\n    filterRestaurants() {\r\n      this.filteredRestaurants = this.restaurants.filter(r => r.userId === this.userId);\r\n    },\r\n    navigateToUpdate(id) {\r\n      this.$router.push({ name: 'UpdatePage', params: { id } });\r\n    },\r\n    confirmDelete(id) {\r\n      if (confirm('Are you sure you want to delete this item?')) {\r\n        this.deleteRestaurant(id);\r\n      }\r\n    },\r\n    async deleteRestaurant(id) {\r\n      try {\r\n        await axios.delete(`http://localhost:5165/api/Home/${id}`);\r\n        this.restaurants = this.restaurants.filter(item => item.id !== id);\r\n        this.filterRestaurants();\r\n      } catch (error) {\r\n        console.error('Failed to delete restaurant:', error);\r\n      }\r\n    },\r\n    logout() {\r\n      localStorage.removeItem('user-info');\r\n      this.$router.push({ name: \"SignUp\" });\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n/* Background image style for the entire page */\r\n.background-container {\r\n  background: url('../assets/kitchen.jpg') no-repeat center center fixed;\r\n  background-size: cover;\r\n  min-height: 100vh;\r\n  padding: 20px;\r\n  /* Optional: Add some padding around the content */\r\n}\r\n\r\n.content-container {\r\n  background-color: rgba(255, 255, 255, 0.9);\r\n  /* Semi-transparent background for readability */\r\n  border-radius: 8px;\r\n  padding: 20px;\r\n  max-width: 1200px;\r\n  margin: 20px auto;\r\n  /* Center the content and set max-width */\r\n}\r\n\r\n.table-container {\r\n  margin-top: 20px;\r\n  border: 2px solid black;\r\n  /* Black border around the table container */\r\n}\r\n\r\n.table-bordered {\r\n  border: 2px solid black;\r\n  /* Black border for the table */\r\n}\r\n\r\n.table th,\r\n.table td {\r\n  border: 1px solid black;\r\n  /* Black border for table cells */\r\n}\r\n</style>\r\n"],"mappings":";AAuCA,OAAOA,MAAK,MAAO,cAAc;AACjC,OAAOC,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,UAAU,EAAE;IACVH;EACF,CAAC;EACDI,IAAIA,CAAA,EAAG;IACL,OAAO;MACLF,IAAI,EAAE,EAAE;MACRG,MAAM,EAAE,EAAE;MACVC,WAAW,EAAE,EAAE;MACfC,mBAAmB,EAAE;IACvB,CAAC;EACH,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACd,IAAIC,IAAG,GAAIC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;IAC5C,IAAI,CAACF,IAAI,EAAE;MACT,IAAI,CAACG,OAAO,CAACC,IAAI,CAAC;QAAEX,IAAI,EAAE;MAAS,CAAC,CAAC;MACrC;IACF;IACA,MAAMY,QAAO,GAAIC,IAAI,CAACC,KAAK,CAACP,IAAI,CAAC;IACjC,IAAI,CAACP,IAAG,GAAIY,QAAQ,CAACZ,IAAI;IACzB,IAAI,CAACG,MAAK,GAAIS,QAAQ,CAACG,EAAE;IAEzB,IAAI;MACF,IAAIC,MAAK,GAAI,MAAMjB,KAAK,CAACkB,GAAG,CAAC,gCAAgC,CAAC;MAC9D,IAAI,CAACb,WAAU,GAAIY,MAAM,CAACd,IAAI;MAC9B,IAAI,CAACG,mBAAkB,GAAIW,MAAM,CAACd,IAAI;MACtCgB,OAAO,CAACC,GAAG,CAAC,aAAa,EAACH,MAAM,CAACd,IAAI,CAAC;MACtCgB,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAACH,MAAM,CAACd,IAAI;MAClD,IAAI,CAACkB,iBAAiB,CAAC,CAAC;IAC1B,EAAE,OAAOC,KAAK,EAAE;MACdH,OAAO,CAACG,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;IACrD;EACF,CAAC;EACDC,OAAO,EAAE;IACPF,iBAAiBA,CAAA,EAAG;MAClB,IAAI,CAACf,mBAAkB,GAAI,IAAI,CAACD,WAAW,CAACmB,MAAM,CAACC,CAAA,IAAKA,CAAC,CAACrB,MAAK,KAAM,IAAI,CAACA,MAAM,CAAC;IACnF,CAAC;IACDsB,gBAAgBA,CAACV,EAAE,EAAE;MACnB,IAAI,CAACL,OAAO,CAACC,IAAI,CAAC;QAAEX,IAAI,EAAE,YAAY;QAAE0B,MAAM,EAAE;UAAEX;QAAG;MAAE,CAAC,CAAC;IAC3D,CAAC;IACDY,aAAaA,CAACZ,EAAE,EAAE;MAChB,IAAIa,OAAO,CAAC,4CAA4C,CAAC,EAAE;QACzD,IAAI,CAACC,gBAAgB,CAACd,EAAE,CAAC;MAC3B;IACF,CAAC;IACD,MAAMc,gBAAgBA,CAACd,EAAE,EAAE;MACzB,IAAI;QACF,MAAMhB,KAAK,CAAC+B,MAAM,CAAC,kCAAkCf,EAAE,EAAE,CAAC;QAC1D,IAAI,CAACX,WAAU,GAAI,IAAI,CAACA,WAAW,CAACmB,MAAM,CAACQ,IAAG,IAAKA,IAAI,CAAChB,EAAC,KAAMA,EAAE,CAAC;QAClE,IAAI,CAACK,iBAAiB,CAAC,CAAC;MAC1B,EAAE,OAAOC,KAAK,EAAE;QACdH,OAAO,CAACG,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;MACtD;IACF,CAAC;IACDW,MAAMA,CAAA,EAAG;MACPxB,YAAY,CAACyB,UAAU,CAAC,WAAW,CAAC;MACpC,IAAI,CAACvB,OAAO,CAACC,IAAI,CAAC;QAAEX,IAAI,EAAE;MAAS,CAAC,CAAC;IACvC;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}