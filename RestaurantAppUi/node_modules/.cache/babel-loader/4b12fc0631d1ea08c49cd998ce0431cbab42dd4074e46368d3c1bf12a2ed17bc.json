{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Header from './Header.vue';\nimport axios from 'axios';\nexport default {\n  name: 'AddPage',\n  components: {\n    Header\n  },\n  data() {\n    return {\n      restaurant: {\n        name: '',\n        address: '',\n        contact: ''\n      },\n      userId: '' // Store user ID here\n    };\n  },\n  methods: {\n    async addRestaurant() {\n      try {\n        const user = JSON.parse(localStorage.getItem('user-info'));\n        if (!user) {\n          this.$router.push({\n            name: \"SignUp\"\n          });\n          return;\n        }\n        this.userId = user.id; // Set the user ID\n\n        const response = await axios.post(\"http://localhost:5165/api/Home\", {\n          name: this.restaurant.name,\n          address: this.restaurant.address,\n          contact: this.restaurant.contact,\n          userId: this.userId // Include user ID in the request\n        });\n        if (response.status === 201) {\n          this.$router.push({\n            name: 'HomePage'\n          });\n        }\n      } catch (error) {\n        console.error('Failed to add restaurant:', error);\n      }\n    }\n  },\n  mounted() {\n    const user = localStorage.getItem('user-info');\n    if (!user) {\n      this.$router.push({\n        name: \"SignUp\"\n      });\n    } else {\n      const userInfo = JSON.parse(user);\n      this.username = userInfo.username; // Assuming user-info is JSON format\n    }\n  }\n};","map":{"version":3,"names":["Header","axios","name","components","data","restaurant","address","contact","userId","methods","addRestaurant","user","JSON","parse","localStorage","getItem","$router","push","id","response","post","status","error","console","mounted","userInfo","username"],"sources":["C:\\vuejs_projects\\resto-project\\src\\components\\Add.vue"],"sourcesContent":["<template>\r\n  <Header />\r\n  <div class=\"background-container\">\r\n  <div class=\"container\">\r\n    <h1 class=\"my-4 text-danger\">Add New Restaurant</h1>\r\n    <div class=\"row\">\r\n      <!-- Left column for the image -->\r\n      <div class=\"col-md-6\">\r\n        <img src=\"../assets/restaurant-service.jpg\" alt=\"Restaurant Image\" class=\"img-fluid\" />\r\n      </div>\r\n      <!-- Right column for the form -->\r\n      <div class=\"col-md-6\">\r\n        <form class=\"add\">\r\n          <div class=\"mb-3\">\r\n            <label for=\"name\" class=\"form-label\">Restaurant Name</label>\r\n            <input type=\"text\" id=\"name\" placeholder=\"Enter the Name\" v-model=\"restaurant.name\" required />\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label for=\"address\" class=\"form-label\">Contact Address</label>\r\n            <input type=\"text\" id=\"address\" placeholder=\"Enter the address\" v-model=\"restaurant.address\" required />\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label for=\"contact\" class=\"form-label\">Contact</label>\r\n            <input type=\"text\" id=\"contact\" placeholder=\"Enter the contact\" v-model=\"restaurant.contact\" required />\r\n          </div>\r\n          <button type=\"button\" @click=\"addRestaurant\" style=\"width: 115px\" class=\"btn btn-dark\">Add New Restaurant</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport Header from './Header.vue'\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'AddPage',\r\n  components: {\r\n    Header\r\n  },\r\n  data() {\r\n    return {\r\n      restaurant: {\r\n        name: '',\r\n        address: '',\r\n        contact: ''\r\n      },\r\n      userId: ''  // Store user ID here\r\n    };\r\n  },\r\n  methods: {\r\n    async addRestaurant() {\r\n      try {\r\n        const user = JSON.parse(localStorage.getItem('user-info'));\r\n        if (!user) {\r\n          this.$router.push({ name: \"SignUp\" });\r\n          return;\r\n        }\r\n        this.userId = user.id; // Set the user ID\r\n\r\n        const response = await axios.post(\"http://localhost:5165/api/Home\", {\r\n          name: this.restaurant.name,\r\n          address: this.restaurant.address,\r\n          contact: this.restaurant.contact,\r\n          userId: this.userId // Include user ID in the request\r\n        });\r\n\r\n        if (response.status === 201) {\r\n          this.$router.push({ name: 'HomePage' });\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to add restaurant:', error);\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    const user = localStorage.getItem('user-info');\r\n    if (!user) {\r\n      this.$router.push({ name: \"SignUp\" });\r\n    } else {\r\n      const userInfo = JSON.parse(user);\r\n      this.username = userInfo.username; // Assuming user-info is JSON format\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.container {\r\n  background-color: rgba(255, 255, 255, 0.9);\r\n  max-width: 1000px; /* Adjust the max-width as needed */\r\n  margin-top: 20px;\r\n  padding: 20px; /* Add some padding inside the container */\r\n  border: 1px solid #ddd; /* Light gray border */\r\n  border-radius: 8px; /* Rounded corners */\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Optional: Add shadow for depth */\r\n}\r\n\r\n.img-fluid {\r\n  max-width: 100%;\r\n  height: auto;\r\n}\r\n.background-container\r\n{\r\nbackground: url('../assets/kitchen.jpg') no-repeat center center fixed;\r\n  background-size: cover;\r\n  min-height: 100vh;\r\n  padding: 20px;\r\n}\r\n\r\n.form-label {\r\n  display: block; /* Ensure labels take up full width */\r\n  margin-bottom: 0.5rem; /* Adjust spacing below the label */\r\n  text-align: left; /* Align text to the left */\r\n}\r\n\r\n.form-control {\r\n  width: 100%; /* Ensure input fields take up full width */\r\n}\r\n</style>\r\n"],"mappings":";AAmCA,OAAOA,MAAK,MAAO,cAAa;AAChC,OAAOC,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,SAAS;EACfC,UAAU,EAAE;IACVH;EACF,CAAC;EACDI,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,UAAU,EAAE;QACVH,IAAI,EAAE,EAAE;QACRI,OAAO,EAAE,EAAE;QACXC,OAAO,EAAE;MACX,CAAC;MACDC,MAAM,EAAE,EAAC,CAAG;IACd,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,aAAaA,CAAA,EAAG;MACpB,IAAI;QACF,MAAMC,IAAG,GAAIC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC;QAC1D,IAAI,CAACJ,IAAI,EAAE;UACT,IAAI,CAACK,OAAO,CAACC,IAAI,CAAC;YAAEf,IAAI,EAAE;UAAS,CAAC,CAAC;UACrC;QACF;QACA,IAAI,CAACM,MAAK,GAAIG,IAAI,CAACO,EAAE,EAAE;;QAEvB,MAAMC,QAAO,GAAI,MAAMlB,KAAK,CAACmB,IAAI,CAAC,gCAAgC,EAAE;UAClElB,IAAI,EAAE,IAAI,CAACG,UAAU,CAACH,IAAI;UAC1BI,OAAO,EAAE,IAAI,CAACD,UAAU,CAACC,OAAO;UAChCC,OAAO,EAAE,IAAI,CAACF,UAAU,CAACE,OAAO;UAChCC,MAAM,EAAE,IAAI,CAACA,MAAK,CAAE;QACtB,CAAC,CAAC;QAEF,IAAIW,QAAQ,CAACE,MAAK,KAAM,GAAG,EAAE;UAC3B,IAAI,CAACL,OAAO,CAACC,IAAI,CAAC;YAAEf,IAAI,EAAE;UAAW,CAAC,CAAC;QACzC;MACF,EAAE,OAAOoB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACnD;IACF;EACF,CAAC;EACDE,OAAOA,CAAA,EAAG;IACR,MAAMb,IAAG,GAAIG,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;IAC9C,IAAI,CAACJ,IAAI,EAAE;MACT,IAAI,CAACK,OAAO,CAACC,IAAI,CAAC;QAAEf,IAAI,EAAE;MAAS,CAAC,CAAC;IACvC,OAAO;MACL,MAAMuB,QAAO,GAAIb,IAAI,CAACC,KAAK,CAACF,IAAI,CAAC;MACjC,IAAI,CAACe,QAAO,GAAID,QAAQ,CAACC,QAAQ,EAAE;IACrC;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}